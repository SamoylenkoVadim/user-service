{% extends 'base.html' %}

{% block title %}
<title>User Service</title>
{% endblock %}


{% block body %}
  <main>
    <div class="container">
      {% if not users %}<h3>There are no records in the Database. Create users.</h3>{% else %}
        <table class="table">
          <thead>
            <tr>
              <th scope="col">#</th>
              <th scope="col">First Name</th>
              <th scope="col">Last Name</th>
              <th scope="col">Emails</th>
              <th scope="col">Phone Numbers</th>
              <th scope="col">Actions</th>
            </tr>
          </thead>
          <tbody>
          {% for user_data in users %}
            <tr>
              <th scope="row">{{ user_data.user.id }}</th>
              <td>{{ user_data.user.firstName }}</td>
              <td>{{ user_data.user.lastName }}</td>
              <td>
                {% for email in user_data.emails %}
                  {{ email.mail }}<br/>
                {% endfor %}
              </td>
              <td>
                {% for phone_number in user_data.phone_numbers %}
                  {{ phone_number.number }}<br/>
                {% endfor %}
              </td>
              <td><button class="btn btn-link" onclick="location.href='/edit/{{ user_data.user.id }}'">Edit</button> <button class="btn btn-link" onclick="location.href='/delete/{{ user_data.user.id }}'">Delete</button></td>
            </tr>
          {% endfor %}
          </tbody>
        </table>
      {% endif %}
    </div>
  </main>
{% endblock %}